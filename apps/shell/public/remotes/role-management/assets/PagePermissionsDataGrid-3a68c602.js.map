{"version":3,"file":"PagePermissionsDataGrid-3a68c602.js","sources":["../../src/pages/RolesManagement/components/PagePermissionsDataGrid/pagePermissionsDataGrid.config.ts","../../src/pages/RolesManagement/components/PagePermissionsDataGrid/PagePermissionsDataGrid.vue"],"sourcesContent":["import { GetPagePermissionsOfRoleQueryDTO, GetPagePermissionsOfRoleQueryDTOCoreListResponse, GetPagesOfRoleQueryDTOCoreListResponseFields, GetRolesQueryDTOCoreListResponse, GetRolesQueryDTOCoreListResponseFields } from '../../../../roles';\r\nimport { DataGridConfig } from 'shared-components'\r\n\r\nimport { PAGE_PERMISSIONS_DATA_GRID } from '../../componentIds';\r\nimport { GetPagesQueryDTOCoreListResponseFields, pagesDataSource, VisualizationType } from 'utility';\r\nimport { pagePermissionsEntity, rolePagesEntity } from \"../../rolesManagement.entities\";\r\n\r\nexport const pagePermissionsDataGrid: DataGridConfig<GetPagePermissionsOfRoleQueryDTOCoreListResponse> = {\r\n  id: PAGE_PERMISSIONS_DATA_GRID,\r\n  title: \"s:pagePermissions\",\r\n  newFormTitle: \"s:addPagePermission\",\r\n  entity: pagePermissionsEntity,\r\n  columns: [\r\n    { \r\n      field: GetPagesQueryDTOCoreListResponseFields.id, \r\n      visible: false,\r\n      addedInEditMode: true,\r\n      visibleInEditMode: false,\r\n      visualizationType: VisualizationType.Value11\r\n    },\r\n    { \r\n      field: GetPagesQueryDTOCoreListResponseFields.name,\r\n      visible: true,\r\n      addedInEditMode: false,\r\n      visualizationType: VisualizationType.Value11\r\n    },\r\n    { \r\n      field: { _field: \"pageId\", _caption: \"s:page\", _type: \"number\"},\r\n      visible: false,\r\n      addedInEditMode: true,\r\n      visualizationType: VisualizationType.Value3,\r\n      selectionFromDataSource: {\r\n        dataSource: rolePagesEntity.dataSource,\r\n        displayDataMemeber: GetPagesOfRoleQueryDTOCoreListResponseFields.name,\r\n        idDataMember: GetPagesOfRoleQueryDTOCoreListResponseFields.id\r\n      }\r\n    },\r\n  ]\r\n};","<template>\r\n  <DataGrid\r\n    ref=\"dataGridRef\"\r\n    :config=\"pagePermissionsDataGrid\"\r\n    :can-delete=\"false\"\r\n    :can-update=\"false\"\r\n    :additional-extra-params-request-params=\"getAdditionalActionsParams\"\r\n    @refresh=\"onRefresh\"\r\n    @view-changed=\"onViewChanged\"\r\n  />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { DataGrid, DataGridStore } from 'shared-components';\r\nimport { useRolesManagementStore } from '../../rolesManagement.store';\r\nimport { PAGE_PERMISSIONS_DATA_GRID } from '../../componentIds';\r\nimport { pagePermissionsDataGrid } from './pagePermissionsDataGrid.config';\r\nimport { ref } from 'vue';\r\n\r\nconst pageStore = useRolesManagementStore();\r\nconst dataGridRef = ref();\r\n\r\npageStore.onRefresh(PAGE_PERMISSIONS_DATA_GRID, () => {\r\n    dataGridRef.value?.refresh();\r\n});\r\n\r\nfunction onRefresh() {\r\n  pageStore.triggerRefresh(PAGE_PERMISSIONS_DATA_GRID);\r\n}\r\n\r\nfunction onViewChanged(newState: DataGridStore) {\r\n  pageStore.pagePermissionsDataGridStore.SaveDataGridView(newState);\r\n}\r\n\r\nfunction getAdditionalActionsParams(): Map<string, any> {\r\n  return new Map<string, any>([\r\n    ['roleId', pageStore.rolesDataGridStore.GetDataGridView()?.selectedRowKeys?.[0] ?? null]\r\n  ]);\r\n}\r\n</script>\r\n"],"names":[],"mappings":";;;AAIA,MAAA,CAAA,sCAAA,CAAA,iBAAA,CAAA,GAAA,MAAA,YAAA,CAAA,SAAA,CAAA,CAAA;AAGO,MAAM,uBAA4F,GAAA;AAAA,EACvG,EAAI,EAAA,0BAAA;AAAA,EACJ,KAAO,EAAA,mBAAA;AAAA,EACP,YAAc,EAAA,qBAAA;AAAA,EACd,MAAQ,EAAA,qBAAA;AAAA,EACR,OAAS,EAAA;AAAA,IACP;AAAA,MACE,OAAO,sCAAuC,CAAA,EAAA;AAAA,MAC9C,OAAS,EAAA,KAAA;AAAA,MACT,eAAiB,EAAA,IAAA;AAAA,MACjB,iBAAmB,EAAA,KAAA;AAAA,MACnB,mBAAmB,iBAAkB,CAAA,OAAA;AAAA,KACvC;AAAA,IACA;AAAA,MACE,OAAO,sCAAuC,CAAA,IAAA;AAAA,MAC9C,OAAS,EAAA,IAAA;AAAA,MACT,eAAiB,EAAA,KAAA;AAAA,MACjB,mBAAmB,iBAAkB,CAAA,OAAA;AAAA,KACvC;AAAA,IACA;AAAA,MACE,OAAO,EAAE,MAAA,EAAQ,UAAU,QAAU,EAAA,QAAA,EAAU,OAAO,QAAQ,EAAA;AAAA,MAC9D,OAAS,EAAA,KAAA;AAAA,MACT,eAAiB,EAAA,IAAA;AAAA,MACjB,mBAAmB,iBAAkB,CAAA,MAAA;AAAA,MACrC,uBAAyB,EAAA;AAAA,QACvB,YAAY,eAAgB,CAAA,UAAA;AAAA,QAC5B,oBAAoB,4CAA6C,CAAA,IAAA;AAAA,QACjE,cAAc,4CAA6C,CAAA,EAAA;AAAA,OAC7D;AAAA,KACF;AAAA,GACF;AACF,CAAA;;;;;;ACzBA,MAAA,CAAA,QAAA,CAAA,GAAA,MAAA,YAAA,CAAA,mBAAA,CAAA,CAAA;AAIA,MAAA,CAAA,GAAA,CAAA,GAAA,MAAA,YAAA,CAAA,KAAA,CAAA,CAAA;AAAoB;;;;AAEpB,IAAA,MAAM,YAAY,uBAAwB,EAAA,CAAA;AAC1C,IAAA,MAAM,cAAc,GAAI,EAAA,CAAA;AAExB,IAAU,SAAA,CAAA,SAAA,CAAU,4BAA4B,MAAM;AAClD,MAAA,WAAA,CAAY,OAAO,OAAQ,EAAA,CAAA;AAAA,KAC9B,CAAA,CAAA;AAED,IAAA,SAAS,SAAY,GAAA;AACnB,MAAA,SAAA,CAAU,eAAe,0BAA0B,CAAA,CAAA;AAAA,KACrD;AAEA,IAAA,SAAS,cAAc,QAAyB,EAAA;AAC9C,MAAU,SAAA,CAAA,4BAAA,CAA6B,iBAAiB,QAAQ,CAAA,CAAA;AAAA,KAClE;AAEA,IAAA,SAAS,0BAA+C,GAAA;AACtD,MAAA,2BAAW,GAAiB,CAAA;AAAA,QAC1B,CAAC,UAAU,SAAU,CAAA,kBAAA,CAAmB,iBAAmB,EAAA,eAAA,GAAkB,CAAC,CAAA,IAAK,IAAI,CAAA;AAAA,OACxF,CAAA,CAAA;AAAA,KACH;;;;;;;;;;;;;;;;;;"}