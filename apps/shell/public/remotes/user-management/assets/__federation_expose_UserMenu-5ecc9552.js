import{importShared as o}from"./__federation_fn_import-c198e41f.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";const{defineComponent:k}=await o("vue"),{unref:r,createElementVNode:e,toDisplayString:i,normalizeClass:C,createTextVNode:f,withModifiers:N,openBlock:v,createElementBlock:g,createCommentVNode:x,pushScopeId:U,popScopeId:D}=await o("vue"),S=n=>(U("data-v-7e969c95"),n=n(),D(),n),E={class:"userSummary"},T=["src"],V={class:"userText"},B={class:"userName"},b={class:"userRoles"},R=S(()=>e("i",{class:"fa-solid fa-user"},null,-1)),z=S(()=>e("i",{class:"fa-solid fa-right-from-bracket"},null,-1)),{onMounted:G,ref:c}=await o("vue"),{useRouter:j}=await o("vue-router"),{authService:l,DataSource:F,GetImageUrl:L}=await o("utility"),{translationService:O,settingsService:$}=await o("utility"),q=k({__name:"UserMenu",setup(n){const u=O.translate,d=j(),_=c(""),m=c([]),s=c(!1),h=new F({name:"userInformation",method:"GET"});function w(){s.value=!s.value}function y(){s.value=!1}function I(){y(),d.push("/profile"),console.log(d)}async function p(){let a=await h.retrieveData(t=>{$.setUserSettings(t.data?.languageId,t.data?.dateTimeFormatId,t.data?.decimalSeperatorId)});a&&(_.value=a.data?.displayName??a.data?.username??"",m.value=a.data?.roleNames??[])}return G(async()=>{l.currentUser.value?await p():l.onLoaded(async()=>{await p()})}),(a,t)=>(v(),g("div",{class:"userMenu",onClick:w},[e("div",E,[e("img",{src:r(L)("userIcon.png"),style:{width:"35px"}},null,8,T),e("div",V,[e("div",B,i(_.value),1),e("div",b,i(m.value?.join(", ")),1)]),e("i",{class:C(["fa-solid fa-chevron-down caretIcon",{rotated:s.value}])},null,2)]),s.value?(v(),g("div",{key:0,class:"userMenuDropdown",onClick:t[1]||(t[1]=N(()=>{},["stop"]))},[e("button",{onClick:I},[R,f(" "+i(r(u)("s:mySettings")),1)]),e("button",{onClick:t[0]||(t[0]=A=>r(l).logout())},[z,f(" "+i(r(u)("s:signOut")),1)])])):x("",!0)]))}});const K=M(q,[["__scopeId","data-v-7e969c95"]]);export{K as default};
