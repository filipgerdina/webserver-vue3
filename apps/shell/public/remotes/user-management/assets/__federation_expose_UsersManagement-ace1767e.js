import{_ as w}from"./preload-helper-3375e397.js";import{importShared as e}from"./__federation_fn_import-c198e41f.js";import{m as g}from"./module-4de6b96f.js";const c="usersDataGrid",_="userRolesDataGrid",G={[c]:[_],[_]:[]},{defineStore:b,getActivePinia:y}=await e("pinia"),{ref:T}=await e("vue"),{useGridStore:I}=await e("shared-components"),f=b("userManagementStore",()=>{const u=I(c)(y()),i=I(_)(y()),n=T([]);function l(a,t){n.value.push({componentId:a,callback:t})}function r(a){let t=[];t=n.value.filter(s=>G[a].includes(s.componentId)).map(s=>s.callback),t.forEach(s=>{s()})}return{onRefresh:l,triggerRefresh:r,usersDataGridStore:u,userRolesDataGridStore:i}}),J={utcRecordTimestamp:{_field:"utcRecordTimestamp",_type:"string",_caption:"s:utcRecordTimestamp"},userId:{_field:"userId",_type:"number",_caption:"s:userId"},userInfo:{_field:"userInfo",_type:"string",_caption:"s:userInfo"},utcRecordTimestampUpd:{_field:"utcRecordTimestampUpd",_type:"string",_caption:"s:utcRecordTimestampUpd"},userIdUpd:{_field:"userIdUpd",_type:"number",_caption:"s:userIdUpd"},userInfoUpd:{_field:"userInfoUpd",_type:"string",_caption:"s:userInfoUpd"},id:{_field:"id",_type:"number",_caption:"s:id"},roleId:{_field:"roleId",_type:"number",_caption:"s:roleId"},name:{_field:"name",_type:"string",_caption:"s:name"},defaultPage:{_field:"defaultPage",_type:"string",_caption:"s:defaultPage"}},o={utcRecordTimestamp:{_field:"utcRecordTimestamp",_type:"string",_caption:"s:utcRecordTimestamp"},userId:{_field:"userId",_type:"number",_caption:"s:userId"},userInfo:{_field:"userInfo",_type:"string",_caption:"s:userInfo"},utcRecordTimestampUpd:{_field:"utcRecordTimestampUpd",_type:"string",_caption:"s:utcRecordTimestampUpd"},userIdUpd:{_field:"userIdUpd",_type:"number",_caption:"s:userIdUpd"},userInfoUpd:{_field:"userInfoUpd",_type:"string",_caption:"s:userInfoUpd"},id:{_field:"id",_type:"number",_caption:"s:id"},username:{_field:"username",_type:"string",_caption:"s:username"},displayName:{_field:"displayName",_type:"string",_caption:"s:displayName"},email:{_field:"email",_type:"string",_caption:"s:email"},isSystem:{_field:"isSystem",_type:"boolean",_caption:"s:isSystem"},isLocked:{_field:"isLocked",_type:"boolean",_caption:"s:isLocked"},added:{_field:"added",_type:"string",_caption:"s:added"},domain:{_field:"domain",_type:"string",_caption:"s:domain"}},{DataSource:S,Entity:E}=await e("utility"),D=new E({entityCode:"USER_ROLES",module:g,dataSource:new S({name:"userRoles",method:"GET",translatableResponseFields:["data.defaultPage"]})}),h=new E({dataSource:new S({name:"users",method:"GET"}),entityCode:"USERS",module:g,subEntities:{userRoles:D}}),k=f(),U=h;U.subEntities.userRoles.dataSource.getQueryParams=()=>({Id:k.usersDataGridStore.GetDataGridView()?.selectedRowKeys?.[0]??void 0});const{VisualizationType:d}=await e("utility"),M={id:c,title:"s:users",entity:U,newFormTitle:"s:addUser",columns:[{field:o.id,visible:!1,visualizationType:d.Value11,addedInEditMode:!0,visibleInEditMode:!1},{field:o.username,visible:!0,visualizationType:d.Value11,addedInEditMode:!0,visibleInEditMode:!0},{field:{_caption:"s:password",_field:"password",_type:"string"},visible:!1,visualizationType:d.Value11,addedInEditMode:!0,visibleInEditMode:!0},{field:o.displayName,visible:!0,visualizationType:d.Value11,addedInEditMode:!1,visibleInEditMode:!1},{field:o.email,visible:!0,visualizationType:d.Value11,addedInEditMode:!1,visibleInEditMode:!1},{field:o.isSystem,visible:!0,visualizationType:d.Value11,addedInEditMode:!1,visibleInEditMode:!1},{field:o.isLocked,visible:!0,visualizationType:d.Value11,addedInEditMode:!1,visibleInEditMode:!1}]},{defineComponent:V}=await e("vue"),{unref:v,openBlock:C,createBlock:B}=await e("vue"),{DataGrid:L}=await e("shared-components"),{ref:N}=await e("vue"),z=V({__name:"UsersDataGrid",setup(u){const i=f(),n=N();function l(t){const s=t?.id??null;let m=i.usersDataGridStore.GetDataGridView();m.selectedRowKeys=[s],i.usersDataGridStore.SaveDataGridView(m),r()}function r(){i.triggerRefresh(c)}function a(t){i.usersDataGridStore.SaveDataGridView(t)}return(t,s)=>(C(),B(v(L),{ref_key:"dataGridRef",ref:n,config:v(M),"can-delete":!1,"can-update":!1,onRefresh:r,onSelected:l,onViewChanged:a},null,8,["config"]))}}),{defineComponent:P}=await e("vue"),{createVNode:A,unref:p,openBlock:R,createBlock:O,createCommentVNode:$,createElementBlock:F}=await e("vue"),x={style:{width:"100%"}},{settingsService:K}=await e("utility"),{defineAsyncComponent:Q}=await e("vue"),W=P({__name:"UsersManagement",setup(u){const i=Q(()=>w(()=>import("./UserRolesDataGrid-62434e56.js"),["assets/UserRolesDataGrid-62434e56.js","assets/__federation_fn_import-c198e41f.js"])),n=f();return(l,r)=>(R(),F("div",x,[A(z),p(K).activeModules.value.map(a=>a.moduleName).includes("rolesManagement")&&p(n).usersDataGridStore.GetDataGridView()?.selectedRowKeys?.length?(R(),O(p(i),{key:0})):$("",!0)]))}});export{J as G,_ as U,f as a,W as default,U as u};
